windows-shell-setup-useraccounts() { local args_local=() args_domain=() section=""; while [[ $# -gt 0 ]]; do case "$1" in localaccounts) section="local"; shift ;; domainaccounts) section="domain"; shift ;; *) [[ "$section" == "local" ]] && args_local+=("$1"); [[ "$section" == "domain" ]] && args_domain+=("$1"); shift ;; esac; done; [[ ${#args_local[@]} -eq 0 && ${#args_domain[@]} -eq 0 ]] && return; echo -e "\t\t<UserAccounts>"; [[ ${#args_local[@]} -gt 0 ]] && windows-shell-setup-localaccounts "${args_local[@]}"; [[ ${#args_domain[@]} -gt 0 ]] && windows-shell-setup-domainaccounts "${args_domain[@]}"; echo -e "\t\t</UserAccounts>"; }