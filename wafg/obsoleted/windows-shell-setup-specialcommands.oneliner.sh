windows-shell-setup-specialcommands() { WINDOWS_SHELL_SETUP_ORDER=1; local args=() has_commands=false index=0; while [[ $# -gt 0 ]]; do [[ "$1" == "addcommand" && ${#args[@]} -gt 0 ]] && { [[ "$has_commands" == false ]] && echo -e "\t\t<FirstLogonCommands>"; has_commands=true; windows-shell-setup-specialcommand "${args[@]}"; args=(); } || args+=("$1"); shift; done; [[ ${#args[@]} -gt 0 ]] && { [[ "$has_commands" == false ]] && echo -e "\t\t<FirstLogonCommands>"; has_commands=true; windows-shell-setup-specialcommand "${args[@]}"; }; [[ -n "${specialcommandarr_ubound}" && "${specialcommandarr_0_commandline+set}" ]] && { [[ "$has_commands" == false ]] && echo -e "\t\t<FirstLogonCommands>"; has_commands=true; for ((index=0; index<specialcommandarr_ubound; index++)); do eval "windows-shell-setup-specialcommand \"\$index\""; done; }; [[ "$has_commands" == true ]] && echo -e "\t\t</FirstLogonCommands>"; }