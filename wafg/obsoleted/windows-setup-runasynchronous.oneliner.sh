windows-setup-runasynchronous() { [[ -z "$RUNASYNC_ORDER" ]] && RUNASYNC_ORDER=1; local Order="$RUNASYNC_ORDER" Path="" Description="" Domain="" UserName="" Password=""; while [[ $# -gt 0 ]]; do case "$1" in Order|Path|Description|Domain|UserName|Password) eval "$1=\$2"; shift 2 ;; *) echo "Unknown parameter: $1" >&2; return 1 ;; esac; done; ((RUNASYNC_ORDER++)); printf '\t\t\t\t<RunAsynchronousCommand>\n\t\t\t\t\t<Order>%s</Order>\n\t\t\t\t\t<Path>%s</Path>\n' "$Order" "$Path"; [[ -n "$Description" ]] && printf '\t\t\t\t\t<Description>%s</Description>\n' "$Description"; [[ -n "$Domain" || -n "$UserName" || -n "$Password" ]] && { printf '\t\t\t\t\t<Credentials>\n'; [[ -n "$Domain" ]] && printf '\t\t\t\t\t\t<Domain>%s</Domain>\n' "$Domain"; [[ -n "$UserName" ]] && printf '\t\t\t\t\t\t<UserName>%s</UserName>\n' "$UserName"; [[ -n "$Password" ]] && printf '\t\t\t\t\t\t<Password>%s</Password>\n' "$Password"; printf '\t\t\t\t\t</Credentials>\n'; }; printf '\t\t\t\t</RunAsynchronousCommand>\n'; }