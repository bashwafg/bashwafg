windows-shell-setup-firstlogoncommands(){ WINDOWS_SHELL_SETUP_ORDER=1; local args=() has_commands=false index=0; while [[ $# -gt 0 ]]; do [[ "$1" == "addcommand" && ${#args[@]} -gt 0 ]] && { [[ "$has_commands" == false ]] && echo -e "\t\t<FirstLogonCommands>" && has_commands=true; windows-shell-setup-synchronouscommand "${args[@]}"; args=(); } || args+=("$1"); shift; done; [[ ${#args[@]} -gt 0 ]] && { [[ "$has_commands" == false ]] && echo -e "\t\t<FirstLogonCommands>" && has_commands=true; windows-shell-setup-synchronouscommand "${args[@]}"; }; [[ -n "${firstcommandarr_ubound}" && "${firstcommandarr_0_commandline+set}" ]] && { [[ "$has_commands" == false ]] && echo -e "\t\t<FirstLogonCommands>" && has_commands=true; for ((index=0; index<firstcommandarr_ubound; index++)); do eval "windows-shell-setup-synchronouscommand \"\$index\""; done; }; [[ "$has_commands" == true ]] && echo -e "\t\t</FirstLogonCommands>"; }